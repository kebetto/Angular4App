<!--Display error message here-->
<p class="error" *ngIf="errorMessage">{{errorMessage}}</p>

<form class="container" [formGroup] = "form" (ngSubmit)="save()">
    <h1>{{title}}</h1>
    <div class="fence">
        <h3>User</h3>
        <div class="form-group">
           <label for="name">Name:</label>
           <input  type="text" class="form-control" id="name" name="name"
                   formControlName = "name" required  [(ngModel)]="user.name">
                   <!--{{!form.controls['name'].hasError('ContainsAllWhiteSpaces')}}-->
           <div *ngIf = "form.controls['name'].touched 
                && form.controls['name'].errors">
                <div 
                   *ngIf="form.controls['name'].errors.required"
                         class = "alert alert-danger">
                     Name is required!
                </div>
                <!--<div 
                   *ngIf="!form.controls['name'].hasError('ContainsAllWhiteSpaces') 
                          && !form.controls['name'].errors.required"
                         class = "alert alert-danger">
                     Name cannot be all empty!
                </div>-->
                <div 
                   *ngIf="form.controls['name'].errors.minlength"
                   class = "alert alert-danger">
                     Name should be at least five characters long!
                </div>  
           </div>
        </div>
        <div class="form-group">
           <label for="email">Email:</label>
           <input type="email" class="form-control" id="email" name="email"
                  formControlName = "email" required 
                  [(ngModel)]="user.email" email>
            <div *ngIf = "form.controls['email'].touched && form.controls['email'].errors">
                <div 
                   *ngIf="form.controls['email'].errors.required"
                   class = "alert alert-danger">
                     Email is required!
                </div>
                <div 
                   *ngIf="form.controls['email'].errors.email 
                   && !form.controls['email'].errors.required"
                   class = "alert alert-danger">
                     Enter a valid email!
                </div>
           </div>
        </div>
         <div class="form-group">
           <label for="phone">Phone:</label>
           <input type="phone" class="form-control" name="phone"
                  [(ngModel)]="user.phone" id="phone" formControlName = "phone">
        </div>

        <!--Address-->
        <h3>Addres</h3>
        <div class="form-group">
           <label for="street">Street:</label>
           <input type="text" class="form-control" 
                  name="street" 
                  [(ngModel)]="user.address.street" 
                  formControlName = "street"
                  >
        </div>
        <div class="form-group">
           <label for="suite">Suite:</label>
           <input type="text" class="form-control" 
                  name="suite" [(ngModel)]="user.address.suite"
                  formControlName = "suite"
                  >
        </div>
        
        <div class="form-group">
           <label for="zipcode">ZipCode:</label>
           <input type="text" class="form-control" 
                  [(ngModel)]="user.address.zipcode"
                  formControlName = "zipcode" name="zipcode" 
                  >
        </div>
    </div>
    <button class="btn btn-primary" [disabled]="!form.valid"
     type="submit">Add User</button>
    <!--<button class="btn btn-primary">{{caption}}</button>-->
    </form>